!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(3)},function(e,t,n){"use strict";n.r(t),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},writable:!0,configurable:!0}),t.default=[]},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var s=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ga_=[],this.fw_="activesStates",this.vs_=this.vs_.bind(this),this.gu_=this.gu_.bind(this),this.uh_=this.uh_.bind(this),this.gm_=this.gm_.bind(this),this.im_=this.im_.bind(this),this.xa_=t,this.ua_=n,window.addEventListener("popstate",function(e){r.hg_&&window.location.pathname!=r.hg_?window.history.back():r.xa_()})}var t,n,s;return t=e,(n=[{key:"vs_",value:function(e){var t;"string"==typeof(t=e)&&""!=t?e==window.location.pathname&&"/"!==e||(window.history.pushState({},e,e),this.xa_()):console.error("DynamicApp.goTo(path) - \"path\" must be a 'string' type with value.")}},{key:"gu_",value:function(e){var t;null==(t=e)&&null==t||function(e){return"string"==typeof e&&""!=e}(e)?(this.hg_=e,window.history.back()):console.error("DynamicApp.goBack() - \"path\" must be a 'string' type with value.")}},{key:"uh_",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=function(e){return"string"==typeof e&&""!=e},i=function(e){return"boolean"==typeof e},s=function(e){return null==e&&null==e},a=function(e){return Array.isArray(e)&&e.every(function(e){return r(e)})};r(e)||a(e)?s(n)||i(n)?("string"==typeof e&&(e=[e]),e&&(e.forEach(function(e){t.ga_.includes(e)||t.ga_.push(e)}),localStorage&&localStorage.setItem(this.fw_,JSON.stringify(this.ga_))),n&&this.ua_()):console.error("DynamicApp.activeState(states, flash) - \"flash\" must be a 'bool' type."):console.error("DynamicApp.activeState(states) - \"states\" must be a 'string' or 'array of string' type with values.")}},{key:"gm_",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=function(e){return"string"==typeof e&&""!=e},s=function(e){return"boolean"==typeof e},a=function(e){return null==e&&null==e},o=function(e){return e instanceof RegExp},c=function(e){return Array.isArray(e)&&e.every(function(e){return i(e)||o(e)})};i(e)||o(e)||c(e)?a(n)||s(n)?(Array.isArray(e)||(e=[e]),e.forEach(function(e){var n=r(t.ga_).reverse().filter(function(t){return new RegExp(e).exec(t)});n&&n.forEach(function(e){return t.ga_.splice(t.ga_.indexOf(e),1)})}),localStorage&&localStorage.setItem(this.fw_,JSON.stringify(this.ga_)),n&&this.ua_()):console.error("DynamicApp.unactiveState(states, flash) - \"flash\" must be a 'bool' type."):console.error("DynamicApp.unactiveState(states) - \"states\" must be a 'string' or 'regex' or 'array of strings/regex' type with values.")}},{key:"im_",value:function(e){var t;if(null==(t=e)&&null==t||function(e){return"string"==typeof e&&""!=e}(e)||function(e){return e instanceof RegExp}(e))return this.ga_.filter(function(t){return new RegExp(e).exec(t)});console.error("DynamicApp.getActiveStates(filter) - \"filter\" must be a 'string' or 'regex' type.")}}])&&i(t.prototype,n),s&&i(t,s),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ya_={},this.fh_=this.fh_.bind(this),this.ta_=this.ta_.bind(this),this.ul_=this.ul_.bind(this)}var t,n,r;return t=e,(n=[{key:"fh_",value:function(e,t){var n;"string"==typeof(n=hook)&&""!=n?!function(e){return"function"==typeof e}(t)?console.error("DynamicApp.subscribe(hook, fun) - \"fun\" must be a 'function' type."):(this.ya_[e]||(this.ya_[e]=[]),this.ya_[e].push(t)):console.error("DynamicApp.subscribe(hook, fun) - \"hook\" must be a 'string' type.")}},{key:"ta_",value:function(e,t){var n;"string"==typeof(n=hook)&&""!=n?!function(e){return"function"==typeof e}(t)?console.error("DynamicApp.unsubscribe(hook, fun) - \"fun\" must be a 'function' type."):this.ya_[e]&&this.ya_[e].splice(nextListeners.indexOf(t),1):console.error("DynamicApp.unsubscribe(hook, fun) - \"hook\" must be a 'string' type.")}},{key:"ul_",value:function(e,t){this.ya_[e]&&this.ya_[e].forEach(function(e){return e(t)})}}])&&a(t.prototype,n),r&&a(t,r),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t,n,r,i=[],s=!0,a=function(e){return null==e&&null==e},o=function(e){return"function"==typeof e},u=function(e){return"number"==typeof e},l=function(e){return"string"==typeof e&&""!=e},f=function(e){return"boolean"==typeof e},d=function(e){return"object"==c(e)&&null!=e&&null!=e&&e instanceof Object&&!Array.isArray(e)},g=function(e){return Array.isArray(e)},v=function(e){return Array.isArray(e)&&e.every(function(e){return l(e)})};function h(e,t){var s=r[e];"item"==e&&(s=r);var c,h=d(c=s)?"object":g(c)?"array":o(c)?"function":a(c)?"null":l(c)?"string":u(c)?"number":f(c)?"boolean":g(c)&&v(c)?"arrayString":void 0;t.includes(h)||i.push("".concat(n).concat("item"==e?"":"."+e,' - type faild: allow types - "').concat(t,'".'))}function p(e){Object.keys(r).forEach(function(t){e.includes(t)||i.push("".concat(n,".").concat(t,' - property faild: allow properties - "').concat(e,'".'))})}function y(t,s){var o=r[t];if("item"==t&&(o=r),!a(o)){g(o)||(o=[o]);var c={jm_:"widgets",gt_:"services",ac_:"containers",et_:"savedServices",mv_:"savedWidgets"};o.forEach(function(r){e[s][r]||i.push("".concat(n).concat("item"==t?"":"."+t,' - reference faild: "').concat(r,'" is not fount in the ').concat(c[s]," list."))})}}function b(e){var t=e.split(",").filter(function(e){return!a(r[e])});(0==t.length||t.length>=2)&&i.push("".concat(n,"[").concat(e,"] - oneof faild: must include one of them."))}return r=e.gt_,h("item","null,object"),d(r)&&Object.keys(e.gt_).forEach(function(t){n="services.".concat(t),r=e.gt_[t],h("item","object,function"),d(r)&&(p("catagory,fields,render"),h("render","function"),h("catagory","null,string"),h("fields","null,object"),d(r.fields)&&Object.keys(r.fields).forEach(function(e){n="services.".concat(t,".fields.").concat(e),r=r.fields[e],p("type,require,defaultValue"),h("type","null,string,object,array"),h("require",""),h("defaultValue","null,string")}))}),t="DynamicApp: services - faild (".concat(i.length," ").concat(1==i.length?"error":"errors",")"),i.length&&(console.group(t),i.forEach(function(e){return console.error(e)}),console.groupEnd(t),s=!1,i=[]),r=e.jm_,h("item","object"),d(r)&&Object.keys(e.jm_).forEach(function(t){n="widgets.".concat(t),r=e.jm_[t],h("item","object,function,string"),d(r)&&(p("catagory,fields,render"),h("render","function"),h("catagory","null,string"),h("fields","null,object"),d(r.fields)&&Object.keys(r.fields).forEach(function(e){n="widgets.".concat(t,".fields.").concat(e),r=r.fields[e],p("type,require,defaultValue"),h("type","null,string,object,array"),h("require",""),h("defaultValue","null,string")}))}),t="DynamicApp: widgets - faild (".concat(i.length," ").concat(1==i.length?"error":"errors",")"),i.length&&(console.group(t),i.forEach(function(e){return console.error(e)}),console.groupEnd(t),s=!1,i=[]),r=e.et_,h("item","null,object"),d(r)&&Object.keys(e.et_).forEach(function(t){n="savedServices.".concat(t),r=e.et_[t],h("item","object"),d(r)&&(p("catagory,serviceId,config"),h("serviceId","string"),h("catagory","null,string"),h("config","null,object"),y("serviceId","gt_"))}),t="DynamicApp: savedServices - faild (".concat(i.length," ").concat(1==i.length?"error":"errors",")"),i.length&&(console.group(t),i.forEach(function(e){return console.error(e)}),console.groupEnd(t),s=!1,i=[]),r=e.mv_,h("item","null,object"),d(r)&&Object.keys(e.mv_).forEach(function(t){n="savedWidgets.".concat(t),r=e.mv_[t],h("item","object"),d(r)&&(p("catagory,widgetId,config"),h("serviceId","string"),h("catagory","null,string"),h("config","null,object"),y("serviceId","jm_"))}),t="DynamicApp: savedWidgets - faild (".concat(i.length," ").concat(1==i.length?"error":"errors",")"),i.length&&(console.group(t),i.forEach(function(e){return console.error(e)}),console.groupEnd(t),s=!1,i=[]),r=e.ac_,h("item","object"),d(r)&&Object.keys(e.ac_).forEach(function(t){if(n="containers.".concat(t),r=e.ac_[t],h("item","object"),d(r)){p("catagory,extends,route,state,notState,expresstion,rulesAsHide,services,widgets"),h("catagory","null,string"),h("route","null,string"),h("state","null,string,arrayString"),h("notState","null,string,arrayString"),h("expresstion","null,boolean,string"),h("extends","null,string,arrayString"),h("services","null,object"),h("widgets","null,object"),y("extends","ac_");var i=r.services,s=r.widgets;i&&Object.keys(i).forEach(function(e){n="containers.".concat(t,".services.").concat(e),r=i[e],h("item","object,string"),l(r)?y("item","gt_"):d(r)&&(p("catagory,serviceId,savedServiceId,route,state,notState,expresstion,rulesAsHide,renderUpdate,config,render"),h("catagory","null,string"),h("serviceId","null,string"),h("savedServiceId","null,string"),h("route","null,string"),h("state","null,string,arrayString"),h("notState","null,string,arrayString"),h("expresstion","null,boolean,string"),h("rulesAsHide","null,boolean"),h("renderUpdate","null,boolean"),h("config","null,object"),h("render","null,function"),b("serviceId,savedServiceId,render"),y("serviceId","gt_"),y("savedServiceId","et_"))}),s&&Object.keys(s).forEach(function(e){n="containers.".concat(t,".widgets.").concat(e),r=s[e],h("item","object"),d(r)&&(p("catagory,widgetId,savedWidgetsId,route,state,notState,expresstion,rulesAsHide,renderUpdate,config,render,async,includeIn,includeBefore,includeAfter"),h("catagory","null,string"),h("widgetId","null,string"),h("savedServiceId","null,string"),h("route","null,string"),h("state","null,string,arrayString"),h("notState","null,string,arrayString"),h("expresstion","null,boolean,string"),h("rulesAsHide","null,boolean"),h("renderUpdate","null,boolean"),h("config","null,object"),h("render","null,function,string"),h("async","null,boolean"),h("includeIn","null,string"),h("includeBefore","null,string"),h("includeAfter","null,string"),b("widgetId,savedWidgetsId,render"),b("includeIn,includeBefore,includeAfter"),y("widgetId","jm_"),y("savedWidgetsId","mv_"))})}}),t="DynamicApp: containers - faild (".concat(i.length," ").concat(1==i.length?"error":"errors",")"),i.length&&(console.group(t),i.forEach(function(e){return console.error(e)}),console.groupEnd(t),s=!1,i=[]),s}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jm_={},this.gt_={},this.ac_={},this.et_={},this.mv_={},this.ct_=this.ct_.bind(this),this.ds_=this.ds_.bind(this)}var t,n,r;return t=e,(n=[{key:"ct_",value:function(e,t){var n;switch(e){case"widgets":n=t?this.jm_[t]:this.jm_;case"services":n=t?this.gt_[t]:this.gt_;case"containers":n=t?this.ac_[t]:this.ac_;case"savedServices":n=t?this.et_[t]:this.et_;case"savedWidgets":n=t?this.mv_[t]:this.mv_;default:n={jm_:this.jm_,gt_:this.gt_,ac_:this.ac_,et_:this.et_,mv_:this.mv_}}return n}},{key:"ds_",value:function(e){function t(e){if(null===e||"object"!==d(e))return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e)){var n=[];return e.forEach(function(e){n.push(t(e))}),n}var r=new e.constructor;for(var i in e)e.hasOwnProperty(i)&&(r[i]=t(e[i]));return r}function n(e,t){for(var r in t)try{t[r].constructor==Object?e[r]=n(l({},e[r]),l({},t[r])):e[r]=t[r]}catch(n){e[r]=t[r]}return e}return e={gt_:e.services||{},jm_:e.widgets||{},ac_:e.containers||{},et_:e.savedServices||{},mv_:e.savedWidgets||{}},!!u(n(t(this),t(e)))&&(n(this,e),!0)}}])&&g(t.prototype,n),r&&g(t,r),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p,y,b,m,w,S,k,C,A,L,j,E,O,x,W,I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logs=[]}var t,n,r;return t=e,(n=[{key:"kt_",value:function(e){var t="DynamicApp: render app (containers.".concat(e.id,") - faild (").concat(this.logs.length," ").concat(1==this.logs.length?"error":"errors",")");this.logs.length&&(console.group(t),this.logs.forEach(function(e){return console.error(e)}),console.groupEnd(t))}},{key:"gr_",value:function(e,t){console.error('DynamicApp: render app - faild: Container Not found! \n    current route: "'.concat(e,'" \n    active states: [').concat(t.join(", "),"]"))}},{key:"jp_",value:function(e){this.logs.push("internal error: ".concat(e.stack))}},{key:"ft_",value:function(e,t){this.logs.push("service.".concat(e," - destroy() faild: ").concat(t.stack))}},{key:"li_",value:function(e,t){this.logs.push("service.".concat(e," - onUpdate() faild: ").concat(t.stack))}},{key:"wa_",value:function(e,t){this.logs.push("service.".concat(e," - render() faild: ").concat(t.stack))}},{key:"gw_",value:function(e,t){this.logs.push("widget.".concat(e," - destroy() faild: ").concat(t.stack))}},{key:"lb_",value:function(e,t){this.logs.push("widget.".concat(e,' - "onUpdate()" faild: ').concat(t.stack))}},{key:"ss_",value:function(e,t){this.logs.push("widget.".concat(e," - render() faild: ").concat(t.stack))}},{key:"ki_",value:function(e,t){console.warn("DynamicApp: render app - widget.".concat(e,' - include path "').concat(t,'" is not found.'))}},{key:"vu_",value:function(e,t,n,r){var i=this,s=!0;return r&&Object.keys(n).forEach(function(e){null==config[e]&&r[e]&&r[e].require&&(i.logs.push("widget.".concat(t,".config.").concat(e," - is require.")),s=!1)}),s}},{key:"vc_",value:function(e,t,n,r){this.logs.push("".concat(e,".").concat(t,".config.").concat(n," - parser faild: ").concat(r.stack))}},{key:"at_",value:function(e,t,n){this.logs.push("".concat(e,".").concat(t,".expresstion - parser faild: ").concat(n.stack))}}])&&h(t.prototype,n),r&&h(t,r),e}(),P=[].slice;
/** @license url-pattern
 * url-pattern.js
 *
 * Copyright (c) url-pattern, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */A=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},k=function(e,t){var n,r,i;for(i=[],n=-1,r=e.length;++n<r;)i=i.concat(t(e[n]));return i},x=function(e,t){var n,r,i;for(i="",n=-1,r=e.length;++n<r;)i+=t(e[n]);return i},O=function(e){return new RegExp(e.toString()+"|").exec("").length-1},j=function(e,t){var n,r,i,s,a;for(s={},n=-1,i=e.length;++n<i;)r=e[n],null!=(a=t[n])&&(null!=s[r]?(Array.isArray(s[r])||(s[r]=[s[r]]),s[r].push(a)):s[r]=a);return s},(p={}).Result=function(e,t){this.value=e,this.rest=t},p.Tagged=function(e,t){this.tag=e,this.value=t},p.tag=function(e,t){return function(n){var r,i;if(null!=(r=t(n)))return i=new p.Tagged(e,r.value),new p.Result(i,r.rest)}},p.regex=function(e){return function(t){var n,r;if(null!=(n=e.exec(t)))return r=n[0],new p.Result(r,t.slice(r.length))}},p.sequence=function(){var e;return e=1<=arguments.length?P.call(arguments,0):[],function(t){var n,r,i,s,a;for(n=-1,r=e.length,a=[],i=t;++n<r;){if(null==(s=(0,e[n])(i)))return;a.push(s.value),i=s.rest}return new p.Result(a,i)}},p.pick=function(){var e,t;return e=arguments[0],t=2<=arguments.length?P.call(arguments,1):[],function(n){var r,i;if(null!=(i=p.sequence.apply(p,t)(n)))return r=i.value,i.value=r[e],i}},p.string=function(e){var t;return t=e.length,function(n){if(n.slice(0,t)===e)return new p.Result(e,n.slice(t))}},p.lazy=function(e){var t;return t=null,function(n){return null==t&&(t=e()),t(n)}},p.baseMany=function(e,t,n,r,i){var s,a,o;for(a=i,o=n?"":[];(null==t||null==t(a))&&null!=(s=e(a));)n?o+=s.value:o.push(s.value),a=s.rest;if(!r||0!==o.length)return new p.Result(o,a)},p.many1=function(e){return function(t){return p.baseMany(e,null,!1,!0,t)}},p.concatMany1Till=function(e,t){return function(n){return p.baseMany(e,t,!0,!0,n)}},p.firstChoice=function(){var e;return e=1<=arguments.length?P.call(arguments,0):[],function(t){var n,r,i;for(n=-1,r=e.length;++n<r;)if(null!=(i=(0,e[n])(t)))return i}},E=function(e){var t;return(t={}).wildcard=p.tag("wildcard",p.string(e.wildcardChar)),t.optional=p.tag("optional",p.pick(1,p.string(e.optionalSegmentStartChar),p.lazy(function(){return t.pattern}),p.string(e.optionalSegmentEndChar))),t.name=p.regex(new RegExp("^["+e.segmentNameCharset+"]+")),t.named=p.tag("named",p.pick(1,p.string(e.segmentNameStartChar),p.lazy(function(){return t.name}))),t.escapedChar=p.pick(1,p.string(e.escapeChar),p.regex(/^./)),t.static=p.tag("static",p.concatMany1Till(p.firstChoice(p.lazy(function(){return t.escapedChar}),p.regex(/^./)),p.firstChoice(p.string(e.segmentNameStartChar),p.string(e.optionalSegmentStartChar),p.string(e.optionalSegmentEndChar),t.wildcard))),t.token=p.lazy(function(){return p.firstChoice(t.wildcard,t.optional,t.named,t.static)}),t.pattern=p.many1(p.lazy(function(){return t.token})),t},C={escapeChar:"\\",segmentNameStartChar:":",segmentValueCharset:"a-zA-Z0-9-_~ %",segmentNameCharset:"a-zA-Z0-9",optionalSegmentStartChar:"(",optionalSegmentEndChar:")",wildcardChar:"*"},S=function(e,t){if(Array.isArray(e))return x(e,function(e){return S(e,t)});switch(e.tag){case"wildcard":return"(.*?)";case"named":return"(["+t+"]+)";case"static":return A(e.value);case"optional":return"(?:"+S(e.value,t)+")?"}},w=function(e,t){return null==t&&(t=C.segmentValueCharset),"^"+S(e,t)+"$"},m=function(e){if(Array.isArray(e))return k(e,m);switch(e.tag){case"wildcard":return["_"];case"named":return[e.value];case"static":return[];case"optional":return m(e.value)}},L=function(e,t,n,r){var i,s,a;if(null==r&&(r=!1),null!=(a=e[t])){if(!((i=n[t]||0)>(Array.isArray(a)?a.length-1:0)))return s=Array.isArray(a)?a[i]:a,r&&(n[t]=i+1),s;if(r)throw new Error("too few values provided for key `"+t+"`")}else if(r)throw new Error("no values provided for key `"+t+"`")},b=function(e,t,n){var r,i;if(Array.isArray(e)){for(r=-1,i=e.length;++r<i;)if(b(e[r],t,n))return!0;return!1}switch(e.tag){case"wildcard":return null!=L(t,"_",n,!1);case"named":return null!=L(t,e.value,n,!1);case"static":return!1;case"optional":return b(e.value,t,n)}},W=function(e,t,n){if(Array.isArray(e))return x(e,function(e){return W(e,t,n)});switch(e.tag){case"wildcard":return L(t,"_",n,!0);case"named":return L(t,e.value,n,!0);case"static":return e.value;case"optional":return b(e.value,t,n)?W(e.value,t,n):""}},(y=function(e,t){var n,r,i;if(e instanceof y)return this.isRegex=e.isRegex,this.regex=e.regex,this.ast=e.ast,void(this.names=e.names);if(this.isRegex=e instanceof RegExp,"string"!=typeof e&&!this.isRegex)throw new TypeError("argument must be a regex or a string");if(this.isRegex){if(this.regex=e,null!=t){if(!Array.isArray(t))throw new Error("if first argument is a regex the second argument may be an array of group names but you provided something else");if(n=O(this.regex),t.length!==n)throw new Error("regex contains "+n+" groups but array of group names contains "+t.length);this.names=t}}else{if(""===e)throw new Error("argument must not be the empty string");if(e.replace(/\s+/g,"")!==e)throw new Error("argument must not contain whitespace");if(r={escapeChar:(null!=t?t.escapeChar:void 0)||C.escapeChar,segmentNameStartChar:(null!=t?t.segmentNameStartChar:void 0)||C.segmentNameStartChar,segmentNameCharset:(null!=t?t.segmentNameCharset:void 0)||C.segmentNameCharset,segmentValueCharset:(null!=t?t.segmentValueCharset:void 0)||C.segmentValueCharset,optionalSegmentStartChar:(null!=t?t.optionalSegmentStartChar:void 0)||C.optionalSegmentStartChar,optionalSegmentEndChar:(null!=t?t.optionalSegmentEndChar:void 0)||C.optionalSegmentEndChar,wildcardChar:(null!=t?t.wildcardChar:void 0)||C.wildcardChar},null==(i=E(r).pattern(e)))throw new Error("couldn't parse pattern");if(""!==i.rest)throw new Error("could only partially parse pattern");this.ast=i.value,this.regex=new RegExp(w(this.ast,r.segmentValueCharset)),this.names=m(this.ast)}}).prototype.match=function(e){var t,n;return null==(n=this.regex.exec(e))?null:(t=n.slice(1),this.names?j(this.names,t):t)},y.prototype.stringify=function(e){if(null==e&&(e={}),this.isRegex)throw new Error("can't stringify patterns generated from a regex");if(e!==Object(e))throw new Error("argument must be an object or undefined");return W(this.ast,e,{})},y.escapeForRegex=A,y.concatMap=k,y.stringConcatMap=x,y.regexGroupCount=O,y.keysAndValuesToObject=j,y.P=p,y.newParser=E,y.defaultOptions=C,y.astNodeToRegexString=w,y.astNodeToNames=m,y.getParam=L,y.astNodeContainsSegmentsForProvidedParams=b,y.stringify=W;var R=y;function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){V(e,t,n[t])})}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ax_=null,this.xe_=null,this.py_={},this.cd_={},this.uk_={},this.ct_=t,this.ul_=r,this.im_=n,this.di_=this.di_.bind(this),window.addEventListener("resize",function(){return i.di_()})}var t,n,r;return t=e,(n=[{key:"di_",value:function(e){var t=this;try{var n=this.ct_();if(this.wf_=new I,this.uk_={},this.ga_=this.im_(),this.xe_=this.ax_||{widgets:{}},this.ax_=this.ak_(n.ac_),!this.ax_)return void this.wf_.gr_(window.location.pathname,this.im_());this.kk_(this.ax_,n),this.da_(this.ax_,n),Object.keys(this.ax_.services).forEach(function(e){t.yf_(e,t.ax_.services[e],n)}),Object.keys(this.ax_.widgets).forEach(function(e,r){t.ax_.widgets[e].async?setTimeout(function(){return t.sk_(e,t.ax_.widgets[e],t.ax_,n)},+r):t.sk_(e,t.ax_.widgets[e],t.ax_,n)}),this.ul_(e)}catch(e){this.wf_.jp_(e)}this.wf_.kt_(this.ax_)}},{key:"ee_",value:function(e,t){var n=this;if(!(this.ax_[e]&&this.ax_[e][t]&&this.ax_[e][t].config))return{};var r=this.ax_[e][t].config,i=(this[e][t].fields,{});return Object.keys(r).forEach(function(s){try{"string"==typeof i[s]&&(i[s]=Function("services, queryParams",'"use strict";return ('.concat(r[s],")"))(n.py_,n.uk_))}catch(r){n.wf_.vc_(e,t,s,r),delete i[s]}}),i}},{key:"zr_",value:function(e,t,n){var r,i,s,a=this,o=["expresstion","route","state","notState"].every(function(o){if(!e.hasOwnProperty(o))return!0;switch(o){case"expresstion":if("string"==typeof e[o])try{return!!Function("services, queryParams",'"use strict";return ('.concat(e[o],")"))(a.py_,a.uk_)}catch(e){return a.wf_.at_(n,t,e),!1}return!!e[o];case"route":return!!(r=new R(e[o]).match(window.location.pathname));case"state":case"notState":return i=e[o]instanceof Array?e[o]:[e[o]],s=i.find(function(e){return a.ga_.find(function(t){return r=new R(e).match(t)})}),"notState"==o?!s:s}return!0});return o&&r&&Object.assign(this.uk_,r),o}},{key:"pq_",value:function(e,t,n){var r=e[t];r.style.display="",r.classList.remove("widget-hide");var i=document.querySelector(n.includeIn||n.includeBefore||n.includeAfter);if(i){if(n.includeIn)i.append(r);else if(n.includeBefore)i.parentNode.insertBefore(r,i);else if(n.includeAfter){var s=i.parentNode.lastChild==i?"append":"insertBefore";i.parentNode[s](r,i.nextSibling)}}else this.wf_.ki_(t,n.includeIn||n.includeBefore||n.includeAfter)}},{key:"zn_",value:function(e,t){var n=e[t];if(n)if(n.isConnected&&n.rulesAsHide)n.classList.add("widget-hide"),n.style.display="none";else{try{n.destroy&&n.destroy()}catch(e){this.wf_.gw_(t,e)}n.remove(),delete e[t]}}},{key:"ak_",value:function(e){var t,n=this,r=Object.keys(e).find(function(r){return t=function t(n){return(n=D({},n)).extends?(("string"==typeof n.extends?[n.extends]:n.extends).forEach(function(r){n=function e(t,n){for(var r in n)try{n[r].constructor==Object?t[r]=e(D({},t[r]),D({},n[r])):t[r]=n[r]}catch(e){t[r]=n[r]}return t}(t(e[r]),n)}),n):n}(e[r]),n.zr_(t,r,"container")});if(r)return t.id=r,t}},{key:"yf_",value:function(e,t,n){var r;if("string"==typeof t&&(t={serviceId:t}),t.serviceId&&(r=t.serviceId),t=D({config:{},renderUpdate:!0},t,{entityId:r}),this.zr_(t,e,"services")){var i=this.xe_&&this.xe_.services&&this.xe_.services[e]&&this.xe_.services[e].config,s=!i&&Object.keys(t.config).find(function(e){return t[e]!=i[e]});if(!this.py_[e]||s){if(r&&n.gt_[t.entityId].fields){var a=n.gt_[t.entityId].fields;Object.keys(a).forEach(function(e){a[e].defaultValue&&!t.config.hasOwnProperty(e)&&(t.config[e]=a[e].defaultValue)})}var o=this.ee_("gt_",e);if(!r||this.wf_.vu_("services",e,t.config,n.gt_[t.entityId].fields))if(this.py_[e]&&this.py_[e].onUpdate)try{this.py_[e].onUpdate(o)}catch(t){this.wf_.li_(e,t)}else if(!this.py_[e]||t.renderUpdate){var c,u=n.gt_[r];t.render?c=t.render:"function"==typeof u?c=u:u.render&&(c=u.render);try{c.constructor?this.py_[e]=new c(o):this.py_[e]=c(o)}catch(t){this.wf_.wa_(e,t)}}}}else if(this.py_[e]){try{this.py_[e].destroy&&this.py_[e].destroy()}catch(t){this.wf_.ft_(e,t)}delete this.py_[e]}}},{key:"sk_",value:function(e,t,n,r){var i,s=this;t.widgetId&&(i=t.widgetId),t=D({config:{},renderUpdate:!1},t,{entityId:i}),this.cd_[e]&&(this.cd_[e].rulesAsHide=t.rulesAsHide);var a=this.zr_(t,e,"widgets"),o=this.cd_[e]&&"none"==this.cd_[e].style.display&&a;if(a){var c=["includeIn","includeBefore","includeAfter"].find(function(n){return!s.xe_.widgets[e]||t[n]!=s.xe_.widgets[e][n]});c&&this.cd_[e]||this.cd_[e]&&!this.cd_[e].isConnected?(this.cd_[e].remove(),this.pq_(this.cd_,e,t)):o&&this.cd_[e]&&(this.cd_[e].style.display="",this.cd_[e].remove("widget-hide"));var u=this.xe_&&this.xe_.widgets&&this.xe_.widgets[e]&&this.xe_.widgets[e].config,l=!u&&Object.keys(t.config).find(function(e){return t[e]!=u[e]});if(!this.cd_[e]||l||c){if(i&&r.jm_[t.entityId].fields){var f=r.jm_[t.entityId].fields;Object.keys(f).forEach(function(e){f[e].defaultValue&&!t.config.hasOwnProperty(e)&&(t.config[e]=f[e].defaultValue)})}var d=this.ee_("jm_",e);if(!i||this.wf_.vu_("widgets",e,t.config,r.jm_[t.entityId].fields))if(this.cd_[e]&&this.cd_[e].onUpdate)try{this.cd_[e].onUpdate(d)}catch(t){this.wf_.lb_(e,t)}else if(!this.cd_[e]||t.renderUpdate){if(!this.cd_[e]){var g=document.createElement("div");g.classList.add("widget"),g.classList.add(e),g.widget=e,this.cd_[e]=g,this.cd_[e].rulesAsHide=t.rulesAsHide,this.pq_(this.cd_,e,t)}var v,h=r.jm_[t.entityId];if(t.render?v=t.render:h&&h.render?v=h.render:h&&(v=h),"string"!=typeof v)try{v(this.cd_[e],d)}catch(t){this.wf_.ss_(e,t)}else this.cd_[e].innerHTML=v}}}else this.cd_[e]&&this.zn_(this.cd_,e)}},{key:"kk_",value:function(e,t){var n=this;Object.keys(this.py_).forEach(function(t){if(!e.services[t]){try{n.py_[t].destroy&&n.py_[t].destroy()}catch(e){n.wf_.ft_(t,e)}delete n.py_[t]}}),Object.keys(this.cd_).forEach(function(t){e.widgets[t]||n.zn_(n.cd_,t)})}},{key:"da_",value:function(e,t){var n;Object.keys(e.services).forEach(function(r){(n=e.services[r]).savedServiceId&&Object.assign(n,t.et_[n.savedServiceId],n)}),Object.keys(e.widgets).forEach(function(r){n=e.widgets[r],t.mv_[n.savedWidgetId]&&Object.assign(n,t.mv_[n.savedWidgetId],n)})}}])&&T(t.prototype,n),r&&T(t,r),e}();function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}
/** @license DynamicApp v0.5.1
 * dynamic-app.js
 *
 * Copyright (c) DynamicApp, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var q=new v,B=new o,_=new s,M=new N(q.ct_,_.im_,B.ul_);_.xa_=function(){return M.di_("update_route")},_.ua_=function(){return M.di_("update_state")};var H=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&q.ds_(t)}var t,n,r;return t=e,(n=[{key:"setConfig",value:function(e){q.ds_(e)}},{key:"goTo",value:function(e){_.vs_(e,function(){return M.di_("update_route")})}},{key:"goBack",value:function(e){_.gu_(e,function(){return M.di_("update_route")})}},{key:"activeState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_.uh_(e,t)}},{key:"unactiveState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_.gm_(e,t)}},{key:"getActiveStates",value:function(e){return _.im_(e)}},{key:"subscribe",value:function(e,t){B.fh_(e,t)}},{key:"unsubscribe",value:function(e,t){B.ta_(e,t)}},{key:"flash",value:function(){M.di_("flash")}}])&&U(t.prototype,n),r&&U(t,r),e}();window.DynamicApp||(window.DynamicApp=new H,Object.freeze(window.DynamicApp));var z,F;t.default=window.DynamicApp;z=void 0,F=function(){return window.DynamicApp},"function"==typeof define&&n(2)?define(F):(z=z||self).DynamicApp=F()}]);